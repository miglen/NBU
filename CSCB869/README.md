# CSCB869
CSCB869 - Java Web Services

## Въведение
Реферат показващ уменията за разработка на Java Web Services върху задача вариант 2 изработен използвайки Java Restful & Java SOAP Api.

## Условие на задачата 
Въз основа на приложен WSDL-документ (TextManipulation.wsdl) разработете web-услуга и клиент, който да я консумира.
Услугата да съдържа следните операции, свързани с обработката на съдържанието на символен низ:
•	getNumberOfWords – връща броят на думите в текста;
•	getNumberOfSymbols – връща броят на различните символи в текста (еднаквите символи се броят само по веднъж);
•	invertString – връща символният низ в инвертиран вид (отзад напред);
•	findSubstr – връща местоположението на символен подниз в изходния низ. Напишете собствен метод за това. Ако поднизът не е намерен – връща резултат -1.
За броя и типа на параметрите, както и за типа на върнатия резултат се ориентирайте от съдържанието на WSDL-документа. Текстът на WSDL-документа и XSD-файла ще намерите в архивиран вид в тема „Първо контролно – материали”.
Клиентът да демонстрира работа с всички операции на услугата. 

## Сървърно приложение
Сървърното приложение представлява един единствен war файл, в който са разположените двете различни API и чрез помощта на URI Mapping разпределяме заявките към съответният servlet. 

## Използвани технологии
Приложението разчита на javax.ws.rs библиотеката за своите Rest функционалности и на пакета javax.jws за своите SOAP функционалности. Допълнително за Rest API използваме simpleJson библиотеката за комуникация със сървърното приложение.

## Структура на приложението
CSCB869.war – е изходния артефакт на нашето приложение, което съдържа:
 * index.html – начална страница на нашето приложение с линкове към двете APIs.
 * rest-api.html – информативна статична страница за функционалностите на REST API.
 * Json_schema/
   * Rest_input_schema.json – схема на входящия json от REST API
   * Rest_output_schema.json – схема на изходния json от REST API.
 * META-INF – мета данни.
 * WEB-INF/ 
   * Web.xml – основна конфигурация на приложението и servlet mapping.
   * Sun-jaxws.xml – конфигурация на javax.jws библиотеката.
   * Lib/ - придружаващи библиотеки.
   * classes\com\cscb869
     * HelperMethods.class – основните функции за манипулирането на текстовия низ, които се споделят и от двете APIs.
     * Rest/RestAPI.class – имплементацията на REST API.
     * Soap/SoapAPI.class – имплементацията на SOAP API.
     * Soap/SoapAPIImpl.class – Интерфейс към имплементацията на SOAP Api.

## Деплоймънт
Деплоймънта става посредством разполагането на пакета в стандартен Servlet контейнър като Tomcat. Следващите стъпки за приложими за него:
1.	Инсталирайте [Tomcat Application Server](https://tomcat.apache.org/tomcat-7.0-doc/appdev/installation.html).
2.	Разположете CSCB869.war пакета в основната webapps директория
3.	Свалете и разположете JAX-WS библиотеките в директорията lib на Tomcat от: https://github.com/javaee/metro-jax-ws 
4.	Стартирайте сървъра от bin/startup.bat (или sh в зависимост от OS). Възможно е да е необходимо да конфигурирате JAVA_HOME в catalina.bat (или .sh).
5.	След няколко секунди приложението ще е достъпно на http://localhost:8080/CSCB869 (ако не сте променили първоначалната конфигурация на сървъра) 

## JAVA WS (SOAP API)
Тя е достъпна на /CSCB869/soap и нейния wsdl е достъпен, когато се предостави параметъра ?wsdl 

## JAVA RS (RestFul API)
Тя е достъпна на /CSCB869/rest/ и нейните json схеми са налични за сваляне от статичната уеб страница.

## Клиентско приложение
Клиентското приложение представлява самостоятелен jar файл, който позволява комуникиране чрез двете различни API на съответен адрес. Приложението е с графичен интерфейс използвайки Java Swing.

## Използвани технологии
Приложението е базирано на Java Swing и използва интерфейс SoapAPI с Jax-WS за комуникация със SOAP и стандартен Java.net за комуникация със SOAP API. През SOAP API изпращаме форматиран JSON и отново получаваме изходящ JSON, който превръщаме в JSONObject чрез simple json пакета.

## Клиентска документация и употреба на приложението
Приложението представлява jar файл, което може да се стартира по следният начин от крайните потребители: 

`java -jar CSCB896Client.jar`

Когато стартирате приложението то е в режим на очакване. Има три основни полета:
 * API Config – Място за конфигурация на адреса на сървърното приложение, типа на заявката и бутон за заявка.
  * Endpoint URL – В това поле въвеждате адреса на приложението във формат: PROTOCOL://HOST:PORT/APPLICATION_PATH
  * API Type: От тук можете да изберете какъв да е типа на заявката – SOAP или REST.
 * API Inputs – Място през което задаваме входящите данни за нашето сървърно приложение.
  * Text – Дълъг низ, който нашето сървърно приложение ще манипулира.
  * Text to search – низ, който ще търсим в горния низ. Може да е празно или несъществуващ низ.
 * API Outputs – В това поле ще изпишем отговорите от нашето сървърно приложение. Ако има грешка с връзката със сървърното приложение изпизва: error.
  * getNumberOfWords – Брой на думите в горния низ.
  * getNumberOfSymbols – Брой на печатните уникални символи в горния низ.
  * invertString – Горният низ обърнат на обратно.
  * findString – позицията на “Text to search” спрямо “text”. Ако няма такава, връща -1. 

## Изглед на приложението

### Начален изглед на приложението:
![1.png](/images/1.png)

### Изглед на приложението след търсене на текст при правилно въведена конфигурация чрез REST Api:
![2.png](/images/2.png)

### Изглед на приложението при неправилно въведена конфигурация (несъществуващо приложение):
![3.png](/images/3.png)

## Документация на проекта
За документация на проекта съм използвал вградените коментари от Javadoc, които могат да бъдат открити в папка docs.

## Тестване на проекта
Основните функционалности на сървърното приложение са тествани с junit още при build-нето на проекта и се намират в директория tests на сървърното приложение.
